<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WPTOPUP üíé</title>
<style>
body {font-family: Arial, sans-serif;margin:0;background:#0d0d0d;color:#fff;}
header {
    background: linear-gradient(90deg, #b8860b, #ffd700);
    padding:15px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    color:black;
    font-weight:bold;
    box-shadow: 0 2px 10px rgba(255,215,0,0.5);
}
header button {background:none;border:none;color:black;font-size:1.5rem;cursor:pointer;}
.container {max-width:1000px;margin:auto;padding:20px;}
label {display:block;margin-bottom:5px;font-weight:bold;color:gold;}
input {
    width:100%;
    padding:10px;
    margin-bottom:15px;
    border:none;
    border-radius:5px;
    background:#2a2a2a;
    color:white;
}
button {
    background: linear-gradient(90deg, #ffd700, #b8860b);
    color:black;
    border:none;
    padding:10px 15px;
    font-weight:bold;
    border-radius:5px;
    cursor:pointer;
    transition: 0.3s;
}
button:hover {transform: scale(1.05);}
.grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;}
.card {
    background:#1e1e1e;
    border-radius:8px;
    padding:15px;
    text-align:center;
    cursor:pointer;
    transition:0.3s;
}
.card:hover {border:2px solid gold;transform: translateY(-3px);}
.sidebar {
    position:fixed;
    top:0;
    left:-50%;
    width:50%;
    height:100%;
    background:#1a1a1a;
    padding:20px;
    transition:0.4s ease;
    z-index:1000;
}
.sidebar a {display:block;color:white;text-decoration:none;margin:15px 0;}
.sidebar a:hover {color:gold;}
.sidebar.open {left:0;}
.back-btn {background:none;border:none;color:gold;font-size:1rem;cursor:pointer;margin-bottom:10px;}
pre {
    background:#1e1e1e;
    padding:10px;
    border-radius:6px;
    white-space:pre-wrap;
}
footer {
    text-align:center;
    color:#aaa;
    padding:20px;
    font-size:0.9rem;
}
</style>
</head>
<body>

<header>
    <button onclick="toggleMenu()">‚ò∞</button>
    <div>WPTOPUP üíé</div>
    <div id="saldoHeader">Rp 0</div>
</header>

<div class="sidebar" id="sidebar">
    <button class="back-btn" onclick="toggleMenu()">‚¨Ö Kembali</button>
    <a href="#" onclick="showLogin()">üîë Login</a>
    <a href="#" onclick="showRegister()">üìù Daftar</a>
    <a href="#" onclick="showSaldo()">üí∞ Saldo: <span id="saldoMenu">0</span></a>
    <a href="#" onclick="topUpSaldo()">‚ûï Top Up Saldo</a>
    <a href="#" onclick="pilihGame()">üéÆ Top Up Game/Voucher</a>
</div>

<div class="container" id="mainContent">
    <h2>Selamat Datang di WPTOPUP üíé</h2>
    <button onclick="pilihGame()">üéÆ Mulai Top Up Game/Voucher</button>
    <button onclick="showLogin()">üîë Login Untuk Deposit</button>
</div>

<footer>¬© 2025 WPTOPUP | IB : WAHYU PROJECT</footer>

<script>
let akun = JSON.parse(localStorage.getItem('akun')) || [];
let loginUser = JSON.parse(localStorage.getItem('loginUser')) || null;
let saldo = JSON.parse(localStorage.getItem('saldo')) || 0;

function updateSaldo(){
    document.getElementById("saldoHeader").innerText = "Rp " + saldo.toLocaleString();
    document.getElementById("saldoMenu").innerText = saldo.toLocaleString();
}

function toggleMenu(){
    document.getElementById("sidebar").classList.toggle("open");
    updateSaldo();
}

function showLogin(){
    document.getElementById("mainContent").innerHTML = `
    <button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Login</h2>
    <label>Username</label><input id='loginUserInput'>
    <label>Password</label><input id='loginPassInput' type='password'>
    <button onclick='login()'>Login</button>`;
}

function showRegister(){
    document.getElementById("mainContent").innerHTML = `
    <button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Daftar</h2>
    <label>Username</label><input id='regUser'>
    <label>Password</label><input id='regPass' type='password'>
    <button onclick='register()'>Daftar</button>`;
}

function showSaldo(){
    document.getElementById("mainContent").innerHTML = `
    <button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Saldo Anda</h2><p>Rp ${saldo.toLocaleString()}</p>`;
}

function topUpSaldo(){
    if(!loginUser){showLogin();return;}
    let nominalList = [10000,20000,50000,100000,150000,200000,300000,500000,1000000];
    let html = `<button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Top Up Saldo</h2><div class='grid'>`;
    nominalList.forEach(n=>{
        html += `<div class='card' onclick='prosesTopUp(${n})'>Rp ${n.toLocaleString()}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function prosesTopUp(nominal){
    let struk = `TOP UP SALDO\nUsername: ${loginUser}\nNominal: Rp ${nominal.toLocaleString()}`;
    let phone = "6287778913867";
    saldo += nominal;
    localStorage.setItem('saldo', saldo);
    updateSaldo();
    window.open(`https://wa.me/${phone}?text=${encodeURIComponent(struk)}`, "_blank");
    showSaldo();
}

function register(){
    let user = document.getElementById("regUser").value.trim();
    let pass = document.getElementById("regPass").value.trim();
    if(user && pass){
        if(akun.find(a=>a.user===user)){
            alert("Username sudah ada");
            return;
        }
        akun.push({user,pass});
        localStorage.setItem('akun', JSON.stringify(akun));
        alert("Pendaftaran berhasil");
        showLogin();
    } else {
        alert("Isi semua data");
    }
}

function login(){
    let user = document.getElementById("loginUserInput").value.trim();
    let pass = document.getElementById("loginPassInput").value.trim();
    let a = akun.find(a=>a.user===user && a.pass===pass);
    if(a){
        loginUser = user;
        localStorage.setItem('loginUser', JSON.stringify(user));
        alert("Login berhasil");
        showMain();
    } else {
        alert("Username atau password salah");
    }
}

function showMain(){
    document.getElementById("mainContent").innerHTML = `
        <h2>Selamat Datang di WPTOPUP üíé</h2>
        <button onclick="pilihGame()">üéÆ Mulai Top Up Game/Voucher</button>
        <button onclick="showLogin()">üîë Login Untuk Deposit</button>
    `;
}

function pilihGame(){
    let games = [
        "Free Fire","Mobile Legends","PUBG Mobile","Roblox","Valorant","COD Mobile","Higgs Domino","Genshin Impact",
        "Google Play Voucher","Garena Shells","Steam Wallet","PlayStation Network","Xbox Live","Apex Legends","Point Blank",
        "Ragnarok","Lost Saga","Arena of Valor","League of Legends","FIFA Mobile","Dragon Raja","Lords Mobile"
    ];
    let html = `<button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button><h2>Pilih Game/Voucher</h2><div class='grid'>`;
    games.forEach(g=>{
        html += `<div class='card' onclick='masukkanID("${g}")'>${g}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function masukkanID(game){
    let html = `<button class='back-btn' onclick='pilihGame()'>‚¨Ö Kembali</button>
    <h2>${game}</h2>
    <label>ID / Username / Nomor HP</label><input id='userID'>
    <label>Server (Opsional)</label><input id='serverID'>
    <button onclick='pilihNominal("${game}")'>Lanjut</button>`;
    document.getElementById("mainContent").innerHTML = html;
}

function pilihNominal(game){
    let nominalData = {
        "Free Fire":[["70 Diamonds",10000],["140 Diamonds",20000],["355 Diamonds",50000],["720 Diamonds",100000],["1450 Diamonds",200000]],
        "Mobile Legends":[["86 Diamonds",20000],["172 Diamonds",40000],["257 Diamonds",60000],["514 Diamonds",120000],["1050 Diamonds",240000]],
        "PUBG Mobile":[["60 UC",15000],["325 UC",75000],["660 UC",150000],["1800 UC",350000]],
        "Roblox":[["80 Robux",15000],["400 Robux",75000],["800 Robux",150000]],
        "Valorant":[["475 VP",50000],["1000 VP",100000],["2050 VP",200000]],
        "COD Mobile":[["80 CP",15000],["420 CP",75000],["880 CP",150000]],
        "Higgs Domino":[["30M Chip",10000],["60M Chip",20000],["200M Chip",50000]],
        "Genshin Impact":[["60 Genesis",15000],["300 Genesis",75000],["980 Genesis",240000]],
        "Google Play Voucher":[["50K",50000],["100K",100000],["150K",150000],["300K",300000]],
        "Garena Shells":[["33 Shell",10000],["66 Shell",20000],["165 Shell",50000]],
        "Steam Wallet":[["60K",60000],["120K",120000],["250K",250000],["500K",500000]],
        "PlayStation Network":[["100K",100000],["200K",200000],["500K",500000]],
        "Xbox Live":[["100K",100000],["200K",200000],["500K",500000]],
        "Apex Legends":[["435 Coins",75000],["1000 Coins",150000],["2150 Coins",300000]],
        "Point Blank":[["1200 PB Cash",10000],["2400 PB Cash",20000],["6000 PB Cash",50000]],
        "Ragnarok":[["50 Kafra",50000],["100 Kafra",100000]],
        "Lost Saga":[["5000 Peso",50000],["10000 Peso",100000]],
        "Arena of Valor":[["40 Vouchers",10000],["90 Vouchers",20000],["230 Vouchers",50000]],
        "League of Legends":[["400 RP",50000],["1000 RP",100000]],
        "FIFA Mobile":[["500 FIFA Points",50000],["1050 FIFA Points",100000]],
        "Dragon Raja":[["60 Diamonds",10000],["300 Diamonds",50000]],
        "Lords Mobile":[["500 Gems",50000],["1050 Gems",100000]]
    };
    let html = `<button class='back-btn' onclick='masukkanID("${game}")'>‚¨Ö Kembali</button><h2>Pilih Nominal</h2><div class='grid'>`;
    (nominalData[game]||[]).forEach(item=>{
        html += `<div class='card' onclick='pilihPembayaran("${game}","${item[0]}",${item[1]})'>${item[0]}<br>Rp ${item[1].toLocaleString()}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function pilihPembayaran(game,nominal,harga){
    let payments = ["QRIS","Dana","OVO","GoPay","ShopeePay","BCA","BRI","Mandiri"];
    let html = `<button class='back-btn' onclick='pilihNominal("${game}")'>‚¨Ö Kembali</button><h2>Pilih Pembayaran</h2><div class='grid'>`;
    payments.forEach(p=>{
        html += `<div class='card' onclick='tampilStruk("${game}","${nominal}",${harga},"${p}")'>${p}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function tampilStruk(game,nominal,harga,payment){
    let id = document.getElementById("userID").value;
    let server = document.getElementById("serverID").value;
    let struk = `WPTOPUP üíé\nGame/Voucher: ${game}\nID/Server/No HP: ${id}${server?" ("+server+")":""}\nNominal: ${nominal}\nHarga: Rp ${harga.toLocaleString()}\nPembayaran: ${payment}`;
    let html = `<button class='back-btn' onclick='pilihPembayaran("${game}","${nominal}",${harga})'>‚¨Ö Kembali</button>
    <h2>Struk</h2><pre>${struk}</pre>
    <button onclick='sendWhatsApp(\`${encodeURIComponent(struk)}\`)'>üì≤ Kirim WhatsApp</button>`;
    document.getElementById("mainContent").innerHTML = html;
}

function sendWhatsApp(msg){
    let phone = "6287778913867";
    window.open(`https://wa.me/${phone}?text=${msg}`, "_blank");
}

updateSaldo();
</script>
</body>
</html>
