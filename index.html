<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WPTOPUP üíé</title>
<style>
body {font-family: Arial, sans-serif;margin:0;background:#0d0d0d;color:#fff;}
header {
    background: linear-gradient(90deg, #b8860b, #ffd700);
    padding:15px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    color:black;
    font-weight:bold;
    box-shadow: 0 2px 10px rgba(255,215,0,0.5);
}
header button {background:none;border:none;color:black;font-size:1.5rem;cursor:pointer;}
.container {max-width:900px;margin:auto;padding:20px;}
label {display:block;margin-bottom:5px;font-weight:bold;color:gold;}
input {
    width:100%;
    padding:10px;
    margin-bottom:15px;
    border:none;
    border-radius:5px;
    background:#2a2a2a;
    color:white;
    box-shadow: inset 0 0 5px rgba(255,215,0,0.5);
}
button {
    background: linear-gradient(90deg, #ffd700, #b8860b);
    color:black;
    border:none;
    padding:10px 15px;
    font-weight:bold;
    border-radius:5px;
    cursor:pointer;
    box-shadow: 0 0 10px rgba(255,215,0,0.6);
    transition: 0.3s;
}
button:hover {transform: scale(1.05); box-shadow: 0 0 15px rgba(255,215,0,1);}
.grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;}
.card {
    background:#1e1e1e;
    border-radius:8px;
    padding:15px;
    text-align:center;
    cursor:pointer;
    transition:0.3s;
    border:2px solid transparent;
    box-shadow: 0 0 5px rgba(255,215,0,0.3);
}
.card:hover {
    border:2px solid gold;
    box-shadow: 0 0 15px rgba(255,215,0,0.8);
    transform: translateY(-3px);
}
.sidebar {
    position:fixed;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:#1a1a1a;
    padding:20px;
    transition:0.4s ease;
    z-index:1000;
    box-shadow: 2px 0 10px rgba(255,215,0,0.4);
}
.sidebar a {display:block;color:white;text-decoration:none;margin:15px 0;transition:0.3s;}
.sidebar a:hover {color:gold;transform:translateX(5px);}
.sidebar.open {left:0;}
.back-btn {background:none;border:none;color:gold;font-size:1rem;cursor:pointer;margin-bottom:10px;}
pre {
    background:#1e1e1e;
    padding:10px;
    border-radius:6px;
    white-space:pre-wrap;
    box-shadow: inset 0 0 5px rgba(255,215,0,0.4);
}
footer {
    text-align:center;
    color:#aaa;
    padding:20px;
    font-size:0.9rem;
    border-top: 1px solid rgba(255,215,0,0.3);
}
</style>
</head>
<body>

<header>
    <button onclick="toggleMenu()">‚ò∞</button>
    <div>WPTOPUP üíé</div>
    <div id="saldoHeader">Rp 0</div>
</header>

<div class="sidebar" id="sidebar">
    <button class="back-btn" onclick="toggleMenu()">‚¨Ö Kembali</button>
    <a href="#" onclick="showLogin()">üîë Login</a>
    <a href="#" onclick="showRegister()">üìù Daftar</a>
    <a href="#" onclick="showSaldo()">üí∞ Saldo: <span id="saldoMenu">0</span></a>
    <a href="#" onclick="topUpSaldo()">‚ûï Top Up Saldo</a>
</div>

<div class="container" id="mainContent">
    <h2>Selamat Datang di WPTOPUP üíé</h2>
    <p>Silakan login untuk mulai top up game, voucher, dan pulsa.</p>
    <button onclick="showLogin()">üîë Login Sekarang</button>
</div>

<footer>¬© 2025 WPTOPUP | IB : WAHYU PROJECT</footer>

<script>
let akun = JSON.parse(localStorage.getItem('akun')) || [];
let loginUser = JSON.parse(localStorage.getItem('loginUser')) || null;
let saldo = JSON.parse(localStorage.getItem('saldo')) || 0;

function updateSaldo(){
    document.getElementById("saldoHeader").innerText = "Rp " + saldo.toLocaleString();
    document.getElementById("saldoMenu").innerText = saldo.toLocaleString();
}

function toggleMenu(){
    document.getElementById("sidebar").classList.toggle("open");
    updateSaldo();
}

function showLogin(){
    document.getElementById("mainContent").innerHTML = `
    <button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Login</h2>
    <label>Username</label><input id='loginUserInput'>
    <label>Password</label><input id='loginPassInput' type='password'>
    <button onclick='login()'>Login</button>`;
}

function showRegister(){
    document.getElementById("mainContent").innerHTML = `
    <button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Daftar</h2>
    <label>Username</label><input id='regUser'>
    <label>Password</label><input id='regPass' type='password'>
    <button onclick='register()'>Daftar</button>`;
}

function showSaldo(){
    document.getElementById("mainContent").innerHTML = `
    <button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Saldo Anda</h2><p>Rp ${saldo.toLocaleString()}</p>`;
}

function topUpSaldo(){
    if(!loginUser){showLogin();return;}
    let nominalList = [10000,20000,50000,100000,150000,200000,250000,300000,400000,500000,750000,1000000];
    let html = `<button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button>
    <h2>Top Up Saldo</h2>
    <div class='grid'>`;
    nominalList.forEach(n=>{
        html += `<div class='card' onclick='prosesTopUp(${n})'>Rp ${n.toLocaleString()}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function prosesTopUp(nominal){
    let struk = `TOP UP SALDO\nUsername: ${loginUser}\nNominal: Rp ${nominal.toLocaleString()}`;
    let phone = "6287778913867";
    saldo += nominal;
    localStorage.setItem('saldo', saldo);
    updateSaldo();
    window.open(`https://wa.me/${phone}?text=${encodeURIComponent(struk)}`, "_blank");
    showSaldo();
}

function register(){
    let user = document.getElementById("regUser").value.trim();
    let pass = document.getElementById("regPass").value.trim();
    if(user && pass){
        if(akun.find(a=>a.user===user)){
            alert("Username sudah ada");
            return;
        }
        akun.push({user,pass});
        localStorage.setItem('akun', JSON.stringify(akun));
        alert("Pendaftaran berhasil");
        showLogin();
    } else {
        alert("Isi semua data");
    }
}

function login(){
    let user = document.getElementById("loginUserInput").value.trim();
    let pass = document.getElementById("loginPassInput").value.trim();
    let a = akun.find(a=>a.user===user && a.pass===pass);
    if(a){
        loginUser = user;
        localStorage.setItem('loginUser', JSON.stringify(user));
        alert("Login berhasil");
        pilihGame();
    } else {
        alert("Username atau password salah");
    }
}

function showMain(){
    document.getElementById("mainContent").innerHTML = `
        <h2>Selamat Datang di WPTOPUP üíé</h2>
        <p>Silakan login untuk mulai top up game, voucher, dan pulsa.</p>
        <button onclick="showLogin()">üîë Login Sekarang</button>
    `;
}

function pilihGame(){
    if(!loginUser){showLogin();return;}
    let games = [
        "Free Fire","Mobile Legends","PUBG Mobile","Roblox","Valorant","Genshin Impact","COD Mobile",
        "Higgs Domino","AOV","Point Blank","Honkai: Star Rail","Clash of Clans","Clash Royale",
        "FIFA Mobile","Minecraft","Google Play Voucher","Steam Wallet","PSN Voucher","Garena Shell",
        "Pulsa Telkomsel","Pulsa XL","Pulsa Indosat","Pulsa Axis","Pulsa Tri","Pulsa Smartfren"
    ];
    let html = `<button class='back-btn' onclick='showMain()'>‚¨Ö Kembali</button><h2>Pilih Game/Voucher/Pulsa</h2><div class='grid'>`;
    games.forEach(g=>{
        html += `<div class='card' onclick='masukkanID("${g}")'>${g}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function masukkanID(game){
    let html = `<button class='back-btn' onclick='pilihGame()'>‚¨Ö Kembali</button>
    <h2>${game}</h2>
    <label>ID / Username / Nomor HP</label><input id='userID'>
    <label>Server (Opsional)</label><input id='serverID'>
    <button onclick='pilihNominal("${game}")'>Lanjut</button>`;
    document.getElementById("mainContent").innerHTML = html;
}

function pilihNominal(game){
    let nominalData = {
        "Free Fire":[["70 Diamonds",10000],["140 Diamonds",20000],["355 Diamonds",50000],["720 Diamonds",100000],["1450 Diamonds",200000]],
        "Mobile Legends":[["86 Diamonds",20000],["172 Diamonds",40000],["257 Diamonds",60000],["514 Diamonds",120000],["1000 Diamonds",230000]],
        "PUBG Mobile":[["60 UC",15000],["325 UC",75000],["660 UC",150000],["1800 UC",350000],["3850 UC",700000]],
        "Roblox":[["80 Robux",15000],["400 Robux",75000],["800 Robux",150000],["1700 Robux",300000]],
        "Valorant":[["475 VP",50000],["950 VP",100000],["1900 VP",200000],["3800 VP",400000]],
        "Genshin Impact":[["60 Genesis",15000],["300 Genesis",75000],["980 Genesis",230000],["1980 Genesis",460000]],
        "COD Mobile":[["80 CP",15000],["420 CP",75000],["880 CP",150000],["2400 CP",400000]],
        "Higgs Domino":[["30M Koin",10000],["60M Koin",20000],["200M Koin",50000],["400M Koin",100000]],
        "Pulsa Telkomsel":[["10.000",12000],["25.000",27000],["50.000",52000],["100.000",102000]],
        "Pulsa XL":[["10.000",12000],["25.000",27000],["50.000",52000],["100.000",102000]],
        "Pulsa Indosat":[["10.000",12000],["25.000",27000],["50.000",52000],["100.000",102000]],
        "Pulsa Axis":[["10.000",12000],["25.000",27000],["50.000",52000],["100.000",102000]],
        "Pulsa Tri":[["10.000",12000],["25.000",27000],["50.000",52000],["100.000",102000]],
        "Pulsa Smartfren":[["10.000",12000],["25.000",27000],["50.000",52000],["100.000",102000]]
    };
    let html = `<button class='back-btn' onclick='masukkanID("${game}")'>‚¨Ö Kembali</button><h2>Pilih Nominal</h2><div class='grid'>`;
    (nominalData[game]||[]).forEach(item=>{
        html += `<div class='card' onclick='pilihPembayaran("${game}","${item[0]}",${item[1]})'>${item[0]}<br><small>Rp ${item[1].toLocaleString()}</small></div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function pilihPembayaran(game,nominal,harga){
    let payments = ["QRIS","Dana","OVO","GoPay","ShopeePay","BCA","BRI","Mandiri"];
    let html = `<button class='back-btn' onclick='pilihNominal("${game}")'>‚¨Ö Kembali</button><h2>Pilih Pembayaran</h2><div class='grid'>`;
    payments.forEach(p=>{
        html += `<div class='card' onclick='tampilStruk("${game}","${nominal}",${harga},"${p}")'>${p}</div>`;
    });
    html += `</div>`;
    document.getElementById("mainContent").innerHTML = html;
}

function tampilStruk(game,nominal,harga,payment){
    let id = document.getElementById("userID").value;
    let server = document.getElementById("serverID").value;
    let struk = `WPTOPUP üíé\nGame/Voucher: ${game}\nID/Server/No HP: ${id}${server?" ("+server+")":""}\nNominal: ${nominal}\nHarga: Rp ${harga.toLocaleString()}\nPembayaran: ${payment}\nStatus: Menunggu Konfirmasi Admin`;
    let html = `<button class='back-btn' onclick='pilihPembayaran("${game}","${nominal}",${harga})'>‚¨Ö Kembali</button>
    <h2>Struk</h2><pre>${struk}</pre>
    <button onclick='sendWhatsApp(\`${encodeURIComponent(struk)}\`)'>üì≤ Kirim WhatsApp</button>`;
    document.getElementById("mainContent").innerHTML = html;
}

function sendWhatsApp(msg){
    let phone = "6287778913867";
    window.open(`https://wa.me/${phone}?text=${msg}`, "_blank");
}

updateSaldo();
</script>
</body>
</html>    {name:"Genshin Impact", server:false},
    {name:"Higgs Domino", server:false},
    {name:"COD Mobile", server:false},
    {name:"Point Blank", server:false},
    {name:"Arena of Valor", server:false},
    {name:"Honkai: Star Rail", server:false},
    {name:"Clash of Clans", server:false},
    {name:"Clash Royale", server:false},
    {name:"FIFA Mobile", server:false},
    {name:"Minecraft", server:false}
];

// harga & nominal
const nominalData = {
    "Free Fire": [
        {nominal:"70 Diamonds", price:"Rp 10.000"},
        {nominal:"140 Diamonds", price:"Rp 20.000"},
        {nominal:"210 Diamonds", price:"Rp 30.000"},
        {nominal:"355 Diamonds", price:"Rp 50.000"},
        {nominal:"500 Diamonds", price:"Rp 70.000"},
        {nominal:"720 Diamonds", price:"Rp 100.000"},
        {nominal:"1000 Diamonds", price:"Rp 140.000"},
        {nominal:"1450 Diamonds", price:"Rp 200.000"},
        {nominal:"2180 Diamonds", price:"Rp 300.000"},
        {nominal:"3640 Diamonds", price:"Rp 500.000"}
    ],
    "Mobile Legends": [
        {nominal:"86 Diamonds", price:"Rp 20.000"},
        {nominal:"172 Diamonds", price:"Rp 40.000"},
        {nominal:"257 Diamonds", price:"Rp 60.000"},
        {nominal:"344 Diamonds", price:"Rp 80.000"},
        {nominal:"514 Diamonds", price:"Rp 120.000"},
        {nominal:"706 Diamonds", price:"Rp 160.000"},
        {nominal:"1412 Diamonds", price:"Rp 300.000"},
        {nominal:"2195 Diamonds", price:"Rp 450.000"},
        {nominal:"3688 Diamonds", price:"Rp 700.000"}
    ],
    "PUBG Mobile": [
        {nominal:"60 UC", price:"Rp 15.000"},
        {nominal:"325 UC", price:"Rp 65.000"},
        {nominal:"660 UC", price:"Rp 120.000"},
        {nominal:"1800 UC", price:"Rp 300.000"},
        {nominal:"3850 UC", price:"Rp 600.000"},
        {nominal:"8100 UC", price:"Rp 1.200.000"}
    ],
    "Roblox": [
        {nominal:"80 Robux", price:"Rp 15.000"},
        {nominal:"400 Robux", price:"Rp 65.000"},
        {nominal:"800 Robux", price:"Rp 130.000"},
        {nominal:"1700 Robux", price:"Rp 270.000"},
        {nominal:"4500 Robux", price:"Rp 700.000"}
    ],
    "Valorant": [
        {nominal:"475 VP", price:"Rp 50.000"},
        {nominal:"1000 VP", price:"Rp 105.000"},
        {nominal:"2050 VP", price:"Rp 210.000"},
        {nominal:"5350 VP", price:"Rp 530.000"}
    ],
    "Genshin Impact": [
        {nominal:"60 Genesis Crystals", price:"Rp 15.000"},
        {nominal:"300+30 Genesis Crystals", price:"Rp 75.000"},
        {nominal:"980+110 Genesis Crystals", price:"Rp 230.000"},
        {nominal:"1980+260 Genesis Crystals", price:"Rp 450.000"},
        {nominal:"3280+600 Genesis Crystals", price:"Rp 750.000"},
        {nominal:"6480+1600 Genesis Crystals", price:"Rp 1.450.000"}
    ]
};

const payments = ["QRIS", "Dana", "OVO", "GoPay", "ShopeePay", "BCA", "BRI", "Mandiri"];

let gameListDiv = document.getElementById("gameList");
games.forEach(game => {
    let div = document.createElement("div");
    div.className = "card";
    div.innerText = game.name;
    div.onclick = () => selectGame(game);
    gameListDiv.appendChild(div);
});

function selectGame(game) {
    selectedGame = game.name;
    document.getElementById("gameTitle").innerText = "Game: " + game.name;
    if(game.server){
        document.getElementById("serverField").classList.remove("hidden");
    } else {
        document.getElementById("serverField").classList.add("hidden");
    }
    showStep(2);
}

function cekID() {
    userID = document.getElementById("userID").value.trim();
    serverID = document.getElementById("serverID").value.trim();
    if(userID === "") { alert("Silakan isi ID!"); return; }
    let list = document.getElementById("nominalList");
    list.innerHTML = "";
    (nominalData[selectedGame] || []).forEach(item => {
        let div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `${item.nominal} <small>${item.price}</small>`;
        div.onclick = () => { selectedNominal = item.nominal; selectedPrice = item.price; nextStep4(); };
        list.appendChild(div);
    });
    showStep(3);
}

function nextStep4() {
    let list = document.getElementById("paymentList");
    list.innerHTML = "";
    payments.forEach(method => {
        let div = document.createElement("div");
        div.className = "item";
        div.innerText = method;
        div.onclick = () => { selectedPayment = method; showStruk(); };
        list.appendChild(div);
    });
    showStep(4);
}

function showStruk() {
    let struk = 
`====================
     WPTOPUP üíé
====================
Game        : ${selectedGame}
ID/Username : ${userID}${serverID ? " ("+serverID+")" : ""}
Nominal     : ${selectedNominal}
Harga       : ${selectedPrice}
Pembayaran  : ${selectedPayment}
Status      : Menunggu Konfirmasi Admin
====================`;
    document.getElementById("strukText").innerText = struk;
    showStep(5);
}

function sendWhatsApp() {
    let phone = "6287778913867";
    let message = `DM: ${selectedGame}%0AID: ${userID}${serverID ? " ("+serverID+")" : ""}%0ANOMINAL: ${selectedNominal}%0AHARGA: ${selectedPrice}%0APEMBAYARAN: ${selectedPayment}`;
    window.open(`https://wa.me/${phone}?text=${message}`, "_blank");
}

function showStep(step) {
    currentStep = step;
    for(let i=1; i<=5; i++) {
        document.getElementById("step"+i).classList.add("hidden");
    }
    document.getElementById("step"+step).classList.remove("hidden");
    document.getElementById("headerTitle").innerHTML = step > 1 ? `<button class="back-btn" onclick="goBack()">‚¨Ö</button> WPTOPUP üíé` : "WPTOPUP üíé";
}

function goBack() {
    if(currentStep > 1) {
        showStep(currentStep - 1);
    }
}
</script>
</body>
</html>
